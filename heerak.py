
#초성
initial= {'ㄱ':'[0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]', 'ㄲ':'[0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1]',
          'ㄴ':'[1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]', 'ㄷ':'[0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]',
          'ㄸ':'[0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1]', 'ㄹ':'[0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0]',
          'ㅁ':'[1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0]', 'ㅂ':'[0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0]',
          'ㅃ':'[0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1]', 'ㅅ':'[0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0]',
          'ㅆ':'[0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]', 'ㅇ':'[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]',
          'ㅈ':'[0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅉ':'[0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1]',
          'ㅊ':'[0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0]', 'ㅋ':'[1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]',
          'ㅌ':'[1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0]', 'ㅍ':'[1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0]',
          'ㅎ':'[0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0]'}  #ㅇ은 그냥 다 0 #19,12

#중성
middle= {'ㅏ':'[1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅐ':'[1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0]',
         'ㅑ':'[0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0]', 'ㅒ':'[0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0]',
         'ㅓ':'[0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0]', 'ㅔ':'[1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0]',
         'ㅕ':'[1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0]', 'ㅖ':'[0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0]',
         'ㅗ':'[1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅘ':'[1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0]',
         'ㅙ':'[1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0]', 'ㅚ':'[1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]',
         'ㅛ':'[0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅜ':'[1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0]',
         'ㅝ':'[1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0]', 'ㅞ':'[1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0]',
         'ㅟ':'[1, 0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0]', 'ㅠ':'[1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0]',
         'ㅡ':'[0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅢ':'[0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0]',
         'ㅣ':'[1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0]'} #21,12

#종성
final= {' ':'[0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1]', 'ㄱ':'[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]',
        'ㄲ':'[1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0]', 'ㄳ':'[1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0]',
        'ㄴ':'[0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0]', 'ㄵ':'[0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0]',
        'ㄶ':'[0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1]', 'ㄷ':'[0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0]',
        'ㄹ':'[0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]', 'ㄺ':'[0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0]',
        'ㄻ':'[0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1]', 'ㄼ':'[0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0]',
        'ㄽ':'[0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0]', 'ㄾ':'[0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1]',
        'ㄿ':'[0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1]', 'ㅀ':'[0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1]',
        'ㅁ':'[0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅂ':'[1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]',
        'ㅄ':'[1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0]', 'ㅅ':'[0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0]',
        'ㅆ':'[0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0]', 'ㅇ':'[0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0]',
        'ㅈ':'[1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0]', 'ㅊ':'[0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0]',
        'ㅋ':'[0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0]', 'ㅌ':'[0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0]',
        'ㅍ':'[0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0]', 'ㅎ':'[0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0]'}
         # ' '은000000111111  #약자에서 ㅆ받침은 그냥 종성으로 넣었음 #28,12




#특수문자.,?!
special= {'.':'[0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0]', ',':'[0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0]',
          '?':'[0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0]', '!':'[0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0]'} #4,12

#약자 한음절 abbreviation
abb={'ㄱㅏ':'[1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㄴㅏ':'[1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]',
     'ㄷㅏ':'[0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]', 'ㅁㅏ':'[1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0]',
     'ㅂㅏ':'[0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0]', 'ㅅㅏ':'[1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0]',
     'ㅈㅏ':'[0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅋㅏ':'[1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]',
     'ㅌㅏ':'[1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0]', 'ㅍㅏ':'[1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0]',
     'ㅎㅏ':'[0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1]', 'ㄱㅓㅅ':'[0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0]',
     'ㅇㅓㄱ':'[1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0]', 'ㅇㅓㄴ':'[1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0]',
     'ㅇㅓㄹ':'[1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅇㅕㄴ':'[1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0]',
     'ㅇㅕㄹ':'[1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]', 'ㅇㅕㅇ':'[1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0]',
     'ㅇㅗㄱ':'[1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅇㅗㄴ':'[1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0]',
     'ㅇㅗㅇ':'[0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅇㅜㄴ':'[1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0]',
     'ㅇㅜㄹ':'[1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅇㅡㄴ':'[1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0]',
     'ㅇㅡㄹ':'[0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0]', 'ㅇㅣㄴ':'[1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0]'}#26,12

# 긴 약자
longabb={"그래서":'[1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0]', "그러나":'[1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0]',
         "그러면":'[1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0]', "그러므로":'[1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1]',
         "그런데":'[1, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0]', "그리고":'[1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1]',
         "그리하여":'[1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1]'}#7,12

def disassemble(distext):
    r_lst = []
    for i,w in enumerate(list(distext)):
        for j, oneword in enumerate(w):
        ## 영어인 경우 구분해서 작성함
            if '가' <= w[j] <= '힣':
                ## 588개 마다 초성이 바뀜.
                ch1 = (ord(w[j]) - ord('가')) // 588
                ## 중성은 총 28가지 종류
                ch2 = ((ord(w[j]) - ord('가')) - (588 * ch1)) // 28
                ch3 = (ord(w[j]) - ord('가')) - (588 * ch1) - 28 * ch2
                r_lst.append([list(initial.keys())[ch1],list(middle.keys())[ch2],list(final.keys())[ch3]])
            elif oneword == '.' or oneword == ',' or oneword == '?' or oneword == '!':
                r_lst.append([oneword])
            else:
                r_lst.append(w)
                break
    print(r_lst)
    return r_lst


def checkshortabb(Lst):

    r_lst=[]
    r_lst1=[]
    for w in Lst:
        try:
            if w=='[1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0]' or w=='[1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0]' or w=='[1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0]' or w=='[1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1]' or w=='[1, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0]' or w=='[1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1]' or w=='[1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1]':
                 r_lst.append(w)
            else:
                ab=w[0]+w[1]
                r_lst.append([ab,w[2]])
        except IndexError:
            pass

    for i, w1 in enumerate(r_lst):
        try:
            r_lst1.append(w1)
            for key1,value1 in abb.items():
                if w1[0]== 'ㄱㅏ' or w1[0]=='ㄴㅏ' or w1[0]=='ㄷㅏ' or w1[0]=='ㅁㅏ' or w1[0]=='ㅂㅏ' or w1[0]=='ㅅㅏ' or w1[0]=='ㅈㅏ' or w1[0]=='ㅌㅏ' or w1[0]=='ㅍㅏ'or w1[0]=='ㅎㅏ' :
                    r_lst1.append(list(abb.values())[i])

                    r_lst1.remove(w1)
                elif w1[0]+w1[1]=='ㄱㅓㅅ' or w1[0]+w1[1]=='ㅇㅓㄱ' or w1[0]+w1[1]=='ㅇㅓㄴ' or w1[0]+w1[1]=='ㅇㅓㄹ' or w1[0]+w1[1]=='ㅇㅕㄴ' or w1[0]+w1[1]=='ㅇㅕㄹ' or w1[0]+w1[1]=='ㅇㅕㅇ' or w1[0]+w1[1]=='ㅇㅗㄱ' or w1[0]+w1[1]=='ㅇㅗㄴ' or  w1[0]+w1[1]=='ㅇㅗㅇ' or w1[0]+w1[1]=='ㅇㅜㄴ' or w1[0]+w1[1]=='ㅇㅜㄹ' or w1[0]+w1[1]=='ㅇㅡㄴ' or w1[0]+w1[1]=='ㅇㅡㄹ' or w1[0]+w1[1]=='ㅇㅣㄴ':
                    r_lst1.append(value1)
                    r_lst1.remove(w1)
                break
        except IndexError:
            pass
    print(r_lst1)
    return(r_lst1)

def convert(list):
    r_lst=[]
    r_lst1=[]
    try:
        for w in list:
            for i, w1 in enumerate(list):
                r_lst.append(w)
                if(len(w1))!= 36:
                    r_lst.append([w1[0][0],w1[0][1],w1[1]])
                break


                        #for key2, value2 in middle.items():

                        #for key3, value3 in final.items():
    except IndexError:
        pass


    print(r_lst)



    return




#파일을 단어로 잘라서 배열로 넣기
with open('input.txt') as f:
    #lines = f.read().splitlines()
    word=f.read().split()
print(word)
a=[]
#for key, value in longabb.items():
#'그래서' or '그러나' or '그러면'or'그러므로'or '그런데' or '그리고' or '그리하여'
#잘라진 단어와 longabb 비교해서 대치시키기
for i, wordi in enumerate(word):
    a.append(wordi)
    for key, value in longabb.items():
        if (wordi==key):
            a.append(value)
            a.remove(key)
print(a)
dis=disassemble(a)
last=checkshortabb(dis)
convert(last)








